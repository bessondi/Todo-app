(function(t){function e(e){for(var n,r,a=e[0],c=e[1],d=e[2],u=0,f=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/Todo-app/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var l=c;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"043a":function(t,e,o){},"1b8c":function(t,e,o){"use strict";var n=o("3be7"),s=o.n(n);s.a},"3be7":function(t,e,o){},"45b1":function(t,e,o){"use strict";var n=o("043a"),s=o.n(n);s.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container"},[o("div",{staticClass:"todoList"},[o("div",{staticClass:"header"},[o("h1",{staticClass:"title"},[o("span",{staticClass:"counter"},[t._v(" "+t._s(t.incompleteTodosCounter.length>0?t.incompleteTodosCounter.length:null)+" ")]),t._v(" todo"+t._s(t.incompleteTodosCounter.length>1?"s left":t.incompleteTodosCounter.length?" left":" app")+" ")]),o("Date"),o("AddTodo",{attrs:{id:t.getTodoId},on:{addTask:t.addTodo}}),o("select",{directives:[{name:"model",rawName:"v-model",value:t.sort,expression:"sort"}],staticClass:"filter",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"all"}},[t._v("All todos")]),o("option",{attrs:{value:"completed"}},[t._v("Completed")]),o("option",{attrs:{value:"incomplete"}},[t._v("Not Completed")])]),o("hr")],1),t.sortedTodos.length?o("TodoList",{attrs:{tasks:t.sortedTodos},on:{editTaskFromList:t.editTodo,markListTask:t.markAsDone,removeTaskFromList:t.removeTodo}}):o("p",{staticClass:"emptyList"},[o("strong",[t._v("NO TASKS")])])],1)])])},i=[],r=(o("4de4"),o("4160"),o("d3b7"),o("159b"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"date"},[o("div",{staticClass:"date__fullDate"},[o("strong",[t._v(t._s(t.fullDate))])]),o("div",{staticClass:"date__day"},[t._v(t._s(t.day))])])}),a=[],c=(o("99af"),new Date),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],u="".concat(c.getDate()," ").concat(l[c.getMonth()].substr(0,3),". ").concat(c.getFullYear()),f={data:function(){return{date:c.getDate(),day:d[c.getDay()],month:l[c.getMonth()],year:c.getFullYear(),fullDate:u}}},p=f,m=(o("45b1"),o("2877")),h=Object(m["a"])(p,r,a,!1,null,"f4ebcb1e",null),v=h.exports,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"newTaskForm",on:{submit:function(e){return e.preventDefault(),t.newTask(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"newTaskForm__title",attrs:{id:"newTask",type:"text",placeholder:"Add a new todo.."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])},g=[],b=(o("a9e3"),o("498a"),{data:function(){return{title:""}},props:{id:Number},methods:{newTask:function(){if(this.title.trim()){var t={id:this.id,title:this.title,completed:!1};this.$emit("addTask",t),this.title=""}}}}),_=b,y=(o("1b8c"),Object(m["a"])(_,T,g,!1,null,"70875692",null)),k=y.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"todoList__items"},t._l(t.tasks,(function(e){return o("TodoItems",{attrs:{taskItem:e,title:e.title},on:{editTodo:function(o){return t.editTodo(e,o)},checkAsDone:t.checkAsDone,removeTask:t.removeTask}})})),1)},w=[],C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"todo",class:{done:t.taskItem.completed}},[o("input",{staticClass:"todo__checkbox",attrs:{type:"checkbox"},domProps:{checked:t.taskItem.completed},on:{change:function(e){return t.$emit("checkAsDone",t.taskItem.id,e)}}}),t.isEditing?o("form",{staticClass:"todo__editField",on:{submit:function(e){return e.preventDefault(),t.finishEditing()}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodoTitle,expression:"newTodoTitle"}],ref:"newTodo",staticClass:"todo__textArea",attrs:{type:"text"},domProps:{value:t.newTodoTitle},on:{blur:function(e){return t.finishEditing()},input:function(e){e.target.composing||(t.newTodoTitle=e.target.value)}}})]):o("span",{staticClass:"todo__title",class:{done:t.taskItem.completed},on:{click:function(e){return t.startEditing()}}},[t._v(" "+t._s(t._f("uppercase")(t.taskItem.title))+" ")]),o("button",{staticClass:"todo__removeTodoBtn",on:{click:function(e){return t.$emit("removeTask",t.taskItem.id,e)}}},[t._v("Ã—")])])},S=[],O=(o("fb6a"),{data:function(){return{isEditing:!1,newTodoTitle:""}},props:{taskItem:{id:Date.now(),type:Object,required:!0},index:Number},methods:{startEditing:function(){var t=this;this.isEditing?this.finishEditing():(this.newTodoTitle=this.taskItem.title,this.isEditing=!0,this.$nextTick((function(){return t.$refs.newTodo.focus()})))},finishEditing:function(){this.isEditing=!1,this.$emit("editTodo",this.newTodoTitle)}},filters:{uppercase:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}}),E=O,x=(o("f7e2"),Object(m["a"])(E,C,S,!1,null,"6378c648",null)),I=x.exports,j={props:["tasks"],components:{TodoItems:I},methods:{checkAsDone:function(t,e){this.$emit("markListTask",t,e)},removeTask:function(t){this.$emit("removeTaskFromList",t,event)},editTodo:function(t,e){this.$emit("editTaskFromList",t,e)}}},A=j,$=(o("ff0c"),Object(m["a"])(A,D,w,!1,null,"1fa01f36",null)),F=$.exports,L="https://jsonplaceholder.typicode.com/todos",P={name:"App",data:function(){return{todosData:[],sort:"all"}},mounted:function(){var t=this;localStorage.todos?(this.todosData=JSON.parse(localStorage.todos),this.sortTodos()):fetch("".concat(L,"?_limit=5")).then((function(t){return t.json()})).then((function(e){t.todosData=e,t.sortTodos(),t.setTodosInStorage()})).catch((function(){console.log("Failed to get todos-data from server"),t.todosData=[{id:1,title:"see Dmitry`s projects on GitHub",completed:!0},{id:2,title:"write Dmitry a message",completed:!1},{id:3,title:"..or call to him",completed:!1}],t.setTodosInStorage()}))},components:{Date:v,AddTodo:k,TodoList:F},computed:{getTodoId:function(){return this.todosData.length+1},sortedTodos:function(){return"all"===this.sort?this.todosData:"completed"===this.sort?this.todosData.filter((function(t){return t.completed})):"incomplete"===this.sort?this.todosData.filter((function(t){return!t.completed})):void 0},incompleteTodosCounter:function(){if(this.todosData)return this.todosData.filter((function(t){return!t.completed}))}},methods:{addTodo:function(t){this.todosData.push(t),this.setTodosInStorage(),this.modifyTodosOnServer(L,"POST",t),this.sortTodos()},editTodo:function(t,e){t.title!==e&&(t.title=e,this.setTodosInStorage(),this.modifyTodosOnServer("".concat(L,"/").concat(t.id),"PATCH",{title:t.title}))},markAsDone:function(t){var e;this.todosData.forEach((function(o){o.id===t&&(o.completed=!o.completed,e=o)})),this.sortTodos(),this.modifyTodosOnServer("".concat(L,"/").concat(e.id),"PATCH",{completed:e.completed})},removeTodo:function(t,e){console.log(e),this.todosData=this.todosData.filter((function(e){return e.id!==t})),this.setTodosInStorage(),this.modifyTodosOnServer("".concat(L,"/").concat(t),"DELETE",null)},sortTodos:function(){var t=this;setTimeout((function(){t.todosData.sort((function(t,e){return t.completed!==e.completed?t.completed?1:-1:t.id>e.id?1:-1})),t.setTodosInStorage()}),200)},setTodosInStorage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.todosData;localStorage.setItem("todos",JSON.stringify(t))},modifyTodosOnServer:function(t,e,o){fetch(t,{method:e,body:JSON.stringify(o),headers:"DELETE"!==e?{"Content-type":"application/json; charset=UTF-8"}:void 0}).then((function(t){return t.ok?console.log("Todo has been modified on server"):console.log(t.statusText)})).catch((function(){return console.log("Something went wrong")}))}}},N=P,M=(o("5c0b"),Object(m["a"])(N,s,i,!1,null,null,null)),J=M.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(J)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var n=o("9c0c"),s=o.n(n);s.a},"5c23":function(t,e,o){},"9c0c":function(t,e,o){},afb7:function(t,e,o){},f7e2:function(t,e,o){"use strict";var n=o("afb7"),s=o.n(n);s.a},ff0c:function(t,e,o){"use strict";var n=o("5c23"),s=o.n(n);s.a}});
//# sourceMappingURL=app.589775a6.js.map